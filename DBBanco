CREATE DATABASE universidade-bd;

CREATE TABLE ALUNO(
	IDALUNO INT PRIMARY KEY AUTO_INCREMENT,
	NOME VARCHAR(30) NOT NULL,
	SEXO ENUM('M','F') NOT NULL,
	EMAIL VARCHAR(50) UNIQUE,
	CPF VARCHAR(15) UNIQUE
);

CREATE TABLE ENDERECO(
	IDENDALUNO INT PRIMARY KEY AUTO_INCREMENT, 
	RUA VARCHAR(30) NOT NULL,
	BAIRRO VARCHAR(30) NOT NULL,
	CIDADE VARCHAR(30) NOT NULL,
	ESTADO CHAR(2) NOT NULL,
	ID_ALUNO INT UNIQUE

	FOREIGN KEY(ID_ALUNO)
	REFERENCES CLIENTE(IDALUNO)
);

CREATE TABLE TELEFONE(
	IDTELEFONE INT PRIMARY KEY AUTO_INCREMENT, 
	TIPO ENUM('RES','COM','CEL') NOT NULL,
	NUMERO VARCHAR(10) NOT NULL,
	ID_ALUNO INT UNIQUE

	FOREIGN KEY(ID_ALUNO)
	REFERENCES ALUNO (IDALUNO)
);	

CREATE TABLE CURSO(
	IDCURSO INT PRIMARY KEY AUTO_INCREMENT,
	CONTABILIDADE VARCHAR (20) NOT NULL,
	INFORMATICA VARCHAR (20) NOT NULL,
	GASTRONOMIA VARCHAR (20) NOT NULL,
	LOGISTICA VARCHAR (20) NOT NULL,
	ID_ALUNO INT,

	FOREIGN KEY (ID_ALUNO)
	REFERENCES ALUNO(IDALUNO)
);

CREATE TABLE MATRICULA (
	IDMATRICULA INT PRIMARY KEY AUTO_INCREMENT,
	STATUS ENUM ('A ver','Em Dia') NOT NULL,
	FALTAS INT (20) NOT NULL,
	ID_ALUNO INT
	
	FOREIGN KEY (ID_ALUNO)
	REFERENCES ALUNO(IDALUNO)
);



INSERT INTO ALUNO VALUES(NULL,'LEONARDO SCIGLIANO','M','SCIGLIANO_6@HOTMAIL.COM','76567587887');
INSERT INTO ALUNO VALUES(NULL,'LARISSA FAGUNDES','F','LARI@GMAIL.COM','78748984');
INSERT INTO ALUNO VALUES(NULL,'ROBERTA@HOTMAIL.COM','F','ROBER@GMAIL.COM','78489184');
INSERT INTO ALUNO VALUES(NULL,'CARLOS24@GMAIL.COM','M','CARLOS@GMAIL.COM','41012014');

INSERT INTO ENDERECO VALUES (NULL,'Padre Anchieta','São Cristão','Passo Fundo','RS','1');
INSERT INTO ENDERECO VALUES (NULL,'Morom','Centro','Passo Fundo','RS','2');
INSERT INTO ENDERECO VALUES (NULL,'Presidente Altino','Jaguare','São Paulo','RS','3');
INSERT INTO ENDERECO VALUES (NULL,'Rio Branco','Centro','Rio de Janeiro','RJ','4');

INSERT INTO TELEFONE VALUES(NULL,'CEL','54996762603','1');
INSERT INTO TELEFONE VALUES(NULL,'RES','37633324','1');
INSERT INTO TELEFONE VALUES(NULL,'CEL','5478787480','2');
INSERT INTO TELEFONE VALUES(NULL,'CEL','11987894578','3');
INSERT INTO TELEFONE VALUES(NULL,'COM','54996762603','4');

INSERT INTO CURSO VALUES (NULL,'INFORMATICA','1');
INSERT INTO CURSO VALUES (NULL,'GASTRONOMIA','2');
INSERT INTO CURSO VALUES (NULL,'LOGISTICA','3');
INSERT INTO CURSO VALUES (NULL,'CONTABILIDADE','4');

INSERT INTO MATRICULA VALUES (NULL,'Em Dia','1','1');
INSERT INTO MATRICULA VALUES (NULL,'A Ver','1','2');
INSERT INTO MATRICULA VALUES (NULL,'Em Dia','1','3');
INSERT INTO MATRICULA VALUES (NULL,'Em Dia','1','4');


	IDMATRICULA INT PRIMARY KEY AUTO_INCREMENT,
	STATUS ENUM ('A Ver','Em Dia') NOT NULL,
	FALTAS INT (20) NOT NULL,
	ID_ALUNO INT,
	
	FOREIGN KEY (ID_ALUNO)
	REFERENCES ALUNO(IDALUNO)



SELECT  AL.*, 
	END.*, 
	TEL.*, 
	C.* , 
	MAT.*
FROM ALUNO AL
JOIN ENDERECO END
ON IDALUNO = ID_ALUNO
JOIN TELEFONE TEL
ON IDALUNO = ID_ALUNO
JOIN CURSO C
ON IDALUNO = ID_ALUNO
JOIN MATRICULA MAT
ON IDALUNO = ID_ALUNO;
where IDALUNO = 1;
